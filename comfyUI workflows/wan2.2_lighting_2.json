{
  "84": {
    "inputs": {
      "clip_name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
      "type": "wan",
      "device": "default"
    },
    "class_type": "CLIPLoader",
    "_meta": {
      "title": "Load CLIP"
    }
  },
  "85": {
    "inputs": {
      "add_noise": "disable",
      "noise_seed": 710299676059023,
      "steps": 4,
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "simple",
      "start_at_step": 2,
      "end_at_step": 4,
      "return_with_leftover_noise": "disable",
      "model": [
        "103",
        0
      ],
      "positive": [
        "98",
        0
      ],
      "negative": [
        "98",
        1
      ],
      "latent_image": [
        "86",
        0
      ]
    },
    "class_type": "KSamplerAdvanced",
    "_meta": {
      "title": "KSampler (Advanced)"
    }
  },
  "86": {
    "inputs": {
      "add_noise": "enable",
      "noise_seed": 931915268174144,
      "steps": 4,
      "cfg": 1,
      "sampler_name": "euler",
      "scheduler": "simple",
      "start_at_step": 0,
      "end_at_step": 2,
      "return_with_leftover_noise": "enable",
      "model": [
        "104",
        0
      ],
      "positive": [
        "98",
        0
      ],
      "negative": [
        "98",
        1
      ],
      "latent_image": [
        "98",
        2
      ]
    },
    "class_type": "KSamplerAdvanced",
    "_meta": {
      "title": "KSampler (Advanced)"
    }
  },
  "87": {
    "inputs": {
      "samples": [
        "85",
        0
      ],
      "vae": [
        "90",
        0
      ]
    },
    "class_type": "VAEDecode",
    "_meta": {
      "title": "VAE Decode"
    }
  },
  "89": {
    "inputs": {
      "text": "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走",
      "clip": [
        "84",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Negative Prompt)"
    }
  },
  "90": {
    "inputs": {
      "vae_name": "wan_2.1_vae.safetensors"
    },
    "class_type": "VAELoader",
    "_meta": {
      "title": "Load VAE"
    }
  },
  "93": {
    "inputs": {
      "text": [
        "114",
        0
      ],
      "clip": [
        "84",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Positive Prompt)"
    }
  },
  "94": {
    "inputs": {
      "fps": 16,
      "images": [
        "87",
        0
      ]
    },
    "class_type": "CreateVideo",
    "_meta": {
      "title": "Create Video"
    }
  },
  "97": {
    "inputs": {
      "image": "pasted/image (4).png"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "Load Image"
    }
  },
  "98": {
    "inputs": {
      "width": 640,
      "height": 640,
      "length": 81,
      "batch_size": 1,
      "positive": [
        "93",
        0
      ],
      "negative": [
        "89",
        0
      ],
      "vae": [
        "90",
        0
      ],
      "start_image": [
        "97",
        0
      ]
    },
    "class_type": "WanImageToVideo",
    "_meta": {
      "title": "WanImageToVideo"
    }
  },
  "101": {
    "inputs": {
      "lora_name": "wan2.2\\wan2.2_i2v_A14b_high_noise_lora_rank64_lightx2v_4step_1022.safetensors",
      "strength_model": 1,
      "model": [
        "112",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoraLoaderModelOnly"
    }
  },
  "102": {
    "inputs": {
      "lora_name": "wan2.2\\wan2.2_i2v_A14b_low_noise_lora_rank64_lightx2v_4step_1022.safetensors",
      "strength_model": 1,
      "model": [
        "113",
        0
      ]
    },
    "class_type": "LoraLoaderModelOnly",
    "_meta": {
      "title": "LoraLoaderModelOnly"
    }
  },
  "103": {
    "inputs": {
      "shift": 5,
      "model": [
        "102",
        0
      ]
    },
    "class_type": "ModelSamplingSD3",
    "_meta": {
      "title": "ModelSamplingSD3"
    }
  },
  "104": {
    "inputs": {
      "shift": 5,
      "model": [
        "101",
        0
      ]
    },
    "class_type": "ModelSamplingSD3",
    "_meta": {
      "title": "ModelSamplingSD3"
    }
  },
  "108": {
    "inputs": {
      "filename_prefix": "video/ComfyUI",
      "format": "auto",
      "codec": "auto",
      "video": [
        "94",
        0
      ]
    },
    "class_type": "SaveVideo",
    "_meta": {
      "title": "Save Video"
    }
  },
  "112": {
    "inputs": {
      "unet_name": "wan2.2\\Wan2_2-I2V-A14B-HIGH_fp8_e4m3fn_scaled_KJ.safetensors",
      "weight_dtype": "default",
      "device": "cuda:0"
    },
    "class_type": "UNETLoaderMultiGPU",
    "_meta": {
      "title": "UNETLoaderMultiGPU"
    }
  },
  "113": {
    "inputs": {
      "unet_name": "wan2.2\\Wan2_2-I2V-A14B-LOW_fp8_e4m3fn_scaled_KJ.safetensors",
      "weight_dtype": "default",
      "device": "cuda:1"
    },
    "class_type": "UNETLoaderMultiGPU",
    "_meta": {
      "title": "UNETLoaderMultiGPU"
    }
  },
  "114": {
    "inputs": {
      "model_name": "Qwen3-VL-4B-Instruct",
      "quantization": "None (FP16)",
      "preset_prompt": "Prompt Style - Detailed",
      "custom_prompt": [
        "118",
        0
      ],
      "max_tokens": 1024,
      "keep_model_loaded": false,
      "seed": 427368449196780,
      "image": [
        "97",
        0
      ]
    },
    "class_type": "AILab_QwenVL",
    "_meta": {
      "title": "QwenVL"
    }
  },
  "117": {
    "inputs": {
      "String": "\"\\\"\\\\\\\"{\\\\\\\\\\\\\\\"shot\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"composition\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"close-up of Erich Zann's violin, 85mm lens, Sony Venice, shallow depth of field\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"camera_motion\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"smooth Steadicam arc around the musician as he plays\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"frame_rate\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"24fps\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"film_grain\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Kodak 250D digital emulation with subtle grain overlay\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"subject\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"description\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"35-year-old German male, tall and gaunt, black hair, pale eyes, gaunt face, wearing a tattered charcoal charcoal suit, ruffled white shirt, worn leather gloves, dust and soot on shoulders\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"wardrobe\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"tattered charcoal charcoal suit, ruffled white shirt, worn leather gloves, dust and soot\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"scene\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"location\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"dilapidated Paris apartment, third floor, peeling plaster, broken windows, crumbling walls\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"time_of_day\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"midnight\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"environment\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"dim moonlight with sickly green hue, low-lying fog, eldritch mist curling around the floor, cracked plaster\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"visual_details\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"action\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"Erich Zann plays haunting violin, notes ripple like translucent waves, music reverberates through the apartment, a subtle tremor in the air\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"props\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"violin, sheet music, worn wooden desk\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"cinematography\\\\\\\\\\\\\\\":{\\\\\\\\\\\\\\\"lighting\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"natural moonlight filtered through broken window, sickly green tint from eldritch glow, soft spotlight on the violin, low-key shadows\\\\\\\\\\\\\\\",\\\\\\\\\\\\\\\"tone\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"eerie, melancholy, otherworldly\\\\\\\\\\\\\\\"},\\\\\\\\\\\\\\\"color_palette\\\\\\\\\\\\\\\":\\\\\\\\\\\\\\\"deep violet, sickly green, ash grey, muted silver\\\\\\\\\\\\\\\"}\\\\\\\"\\\"\",\n"
    },
    "class_type": "String",
    "_meta": {
      "title": "String"
    }
  },
  "118": {
    "inputs": {
      "a": [
        "119",
        0
      ],
      "b": [
        "117",
        0
      ]
    },
    "class_type": "JWStringConcat",
    "_meta": {
      "title": "String Concatenate"
    }
  },
  "119": {
    "inputs": {
      "String": "You are an experienced film concept designer and video generation expert. Based on the given image, conduct a detailed analysis and generate a highly detailed and professional video prompt in JSON format for a 5-second video.\nPlease strictly adhere to the following JSON structure and content specifications. Each field should be as specific, vivid, and imaginative as possible to capture real-world filmmaking details.\n--------------------------------------------------------------------------------\n**JSON Structure Template:**\n{\n  \"shot\": {\n    \"composition\": \"string\",\n    \"camera_motion\": \"string\"\n  },\n  \"subject\": {\n    \"description\": \"string\",\n    \"wardrobe\": \"string\" // Use \"null\" if the subject is an animal or has no specific wardrobe\n  },\n  \"scene\": {\n    \"location\": \"string\",\n    \"time_of_day\": \"string\",\n    \"environment\": \"string\"\n  },\n  \"visual_details\": {\n    \"action\": \"string\",\n    \"props\": \"string\", // Use \"null\" if there are no props\n    \"action_sequence\": \"array of objects\"\n  },\n  \"cinematography\": {\n    \"lighting\": \"string\",\n    \"tone\": \"string\"\n  }\n}\n--------------------------------------------------------------------------------\n**Content Generation Guidelines (Please keep these principles in mind during generation):**\n\n**1. shot**\n*   **composition**: Describe the shot type in detail (e.g., wide shot, medium shot, close-up, long shot), focal length (e.g., 35mm lens, 85mm lens, 50mm lens, 100mm macro telephoto lens, 26mm equivalent lens), camera equipment (e.g., Sony Venice, ARRI Alexa series, RED series, iPhone 15 Pro Max, DJI Inspire 3 drone), and depth of field (e.g., deep depth of field, shallow depth of field).\n*   **camera_motion**: Precisely describe how the camera moves (e.g., smooth Steadicam arc, slow lateral dolly, static, handheld shake, slow pan, drone orbit, rising crane).\n\n**2. subject**\n*   **description**: Provide an extremely detailed depiction of the subject, including their age (e.g., 25-year-old, 23-year-old, 40-year-old, 92-year-old), gender, ethnicity (e.g., Chinese female, Egyptian female, K-pop artist, European female, East Asian female, African male, Korean female, German female, Italian female, Japanese), body type (e.g., slender and athletic), hair (color, style), and any unique facial features. For non-human subjects (e.g., beluga whale, phoenix, emu, golden eagle, duck, snail), describe their physical characteristics in detail.\n\n**3. scene**\n*   **location**: Specify the exact shooting location.\n*   **time_of_day**: State the specific time of day (e.g., dawn, early morning, morning, midday, afternoon, dusk, night).\n*   **environment**: Provide a detailed environmental description that captures the atmosphere and background details.\n\n**4. visual_details**\n*   **action**: A general summary of the action depicted in the video.\n*   **action_sequence**: To enhance the visual tension of the generated 5s video, analyze the image and expand upon it creatively. Design a key action for each second, using the format `\"0-1s: subject + action\"` to briefly and precisely describe the action occurring in that second.\n*   **props**: List all relevant props and elements in the scene (e.g., silver-hilted sword, campfire, candelabra, matcha latte and cheesecake, futuristic motorcycle). If there are no props in the scene, this field should be explicitly set to `\"null\"`.\n\n**5. cinematography**\n*   **lighting**: Describe the light source, quality, color, and direction in detail (e.g., natural dawn light softened by fog, campfire as the key light, natural sunlight through stained glass windows, soft HDR reflections, warm tungsten light and natural window light).\n*   **tone**: Capture the abstract emotional or stylistic feel of the video (e.g., \"fierce, elegant, fluid\", \"mystical, elegant, enchanting\", \"hyperrealistic with an ironic, dark comedic twist\", \"dreamy, serene, emotionally healing\", \"documentary realism\", \"epic, majestic, awe-inspiring\", \"wild, dynamic, uninhibited\").\n\n--------------------------------------------------------------------------------\n**Additional Considerations for Prompt Generation:**\n\n*   **Granularity of Detail**: The LLM should understand that every field requires as much specific detail as possible, not generalizations. For example, instead of writing \"a woman,\" write \"a 25-year-old Chinese female with long black hair tied back with a silk ribbon, a slender build, wearing a flowing, pale blue Hanfu...\".\n*   **Consistency and Diversity**: While the JSON structure must be strictly consistent, the content of each video prompt should be creative and diverse, reflecting the unique elements of different video types (e.g., martial arts, dance, drama, nature documentary, sci-fi action, motivational, commercial, fantasy).\n*   **Handling Null Values**: When a field is not applicable (e.g., wardrobe for an animal), the LLM should use `null` rather than an empty string or omitting the field, to maintain the integrity of the JSON structure.\n*   **Contextual Description**: When describing action, lighting, and sound, think about how these elements work together to create a specific **\"tone\"** and express it using vivid language.\n*   **Language Requirements**: All output should be clear, concise, and use professional filmmaking terminology."
    },
    "class_type": "String",
    "_meta": {
      "title": "String"
    }
  },
  "121": {
    "inputs": {
      "output": "",
      "source": [
        "114",
        0
      ]
    },
    "class_type": "Display Any (rgthree)",
    "_meta": {
      "title": "Display Any (rgthree)"
    }
  },
  "122": {
    "inputs": {
      "purge_cache": true,
      "purge_models": true,
      "anything": [
        "114",
        0
      ]
    },
    "class_type": "LayerUtility: PurgeVRAM",
    "_meta": {
      "title": "LayerUtility: Purge VRAM"
    }
  }
}